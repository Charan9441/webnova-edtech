:root {
	--bg: #0a0e27;
	--bg-2: #1a1f3a;
	--card: #141829;
	--cyan: #00d9ff;
	--purple: #b000ff;
	--lime: #39ff14;
	--magenta: #ff006e;
	--text: #e0e0e0;
	--text-2: #a0a0a0;
	--glass: rgba(255,255,255,0.05);
	--radius: 16px;
	--radius-lg: 20px;
	--radius-sm: 6px;
	--shadow: 0 10px 30px rgba(0,0,0,0.4);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
	margin: 0; background: var(--bg); color: var(--text);
	font-family: 'Segoe UI', -apple-system, system-ui, sans-serif;
	line-height: 1.6;
}

.skip-link { position: absolute; left: -9999px; top: -9999px; }
.skip-link:focus { left: 16px; top: 16px; background: var(--cyan); color: #001018; padding: 8px 12px; border-radius: var(--radius-sm); }

#app { display: grid; grid-template-columns: 240px 1fr; grid-template-rows: 64px 1fr auto; min-height: 100vh; }
.app-header { grid-column: 1 / -1; grid-row: 1; display: flex; align-items: center; justify-content: space-between; padding: 12px 20px; background: linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0)); position: sticky; top: 0; backdrop-filter: blur(8px); z-index: 10; }
.app-header .left { display: flex; align-items: center; gap: 12px; }
.mini-logo { width: 28px; height: 28px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, var(--cyan), var(--purple)); box-shadow: 0 0 12px var(--cyan), 0 0 24px var(--purple); animation: bounce 1.8s ease-in-out infinite; }
.greeting { color: var(--text); font-weight: 700; }
.app-header .right { display: flex; align-items: center; gap: 12px; }
.pill { background: var(--card); border: 1px solid rgba(255,255,255,0.08); border-radius: 999px; padding: 6px 10px; color: var(--text-2); }
.icon-btn { width: 36px; height: 36px; border-radius: 50%; background: var(--card); border: 1px solid rgba(255,255,255,0.08); box-shadow: var(--shadow); cursor: pointer; transition: transform 200ms ease, box-shadow 200ms ease; }
.icon-btn:hover { transform: scale(1.05); box-shadow: 0 0 16px var(--cyan); }

.sidebar { grid-row: 2 / span 2; background: linear-gradient(180deg, var(--bg-2), transparent); padding: 16px; border-right: 1px solid rgba(255,255,255,0.05); }
.nav { display: flex; flex-direction: column; gap: 8px; }
.nav-item { text-align: left; padding: 12px 14px; background: transparent; color: var(--text-2); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; cursor: pointer; transition: transform 200ms ease, box-shadow 200ms ease, background 200ms; }
.nav-item:hover { transform: translateX(2px); background: rgba(255,255,255,0.02); }
.nav-item.active { border-left: 3px solid var(--cyan); color: var(--text); box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05), 0 0 18px rgba(0,217,255,0.2); }

.content { padding: 20px; display: grid; gap: 16px; }
.page { display: none; animation: fadeIn 300ms ease-out; }
.page.active { display: block; }

.glass { background: var(--glass); border: 1px solid rgba(255,255,255,0.08); backdrop-filter: blur(10px); }
.card { background: var(--card); border: 1px solid rgba(255,255,255,0.06); border-radius: var(--radius); padding: 24px; box-shadow: var(--shadow); }
.banner { display: flex; align-items: center; gap: 12px; }
.banner .close { margin-left: auto; }
.gradient { background: linear-gradient(135deg, rgba(0,217,255,0.2), rgba(176,0,255,0.15)); border-radius: var(--radius-lg); padding: 28px; box-shadow: 0 0 24px rgba(0,217,255,0.25), 0 0 24px rgba(176,0,255,0.15) inset; }

.btn { position: relative; display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 12px 18px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.08); cursor: pointer; transition: transform 120ms ease, box-shadow 200ms ease, background 200ms ease; color: #001018; font-weight: 700; }
.btn.primary { background: var(--cyan); box-shadow: 0 0 18px rgba(0,217,255,0.35); }
.btn.secondary { background: transparent; color: var(--cyan); border-color: var(--purple); box-shadow: 0 0 12px rgba(176,0,255,0.25); }
.btn.tertiary { background: rgba(255,255,255,0.04); color: var(--text); }
.btn.danger { background: var(--magenta); color: white; }
.btn.lg { padding: 14px 22px; border-radius: var(--radius-lg); font-size: 18px; }
.btn.sm { padding: 8px 12px; border-radius: 10px; font-size: 13px; }
.btn:active { transform: scale(0.96); }
.btn[disabled] { opacity: 0.6; cursor: not-allowed; }
.spinner { width: 16px; height: 16px; border: 2px solid rgba(0,0,0,0.2); border-top-color: rgba(0,0,0,0.6); border-radius: 50%; display: none; animation: spin 0.8s linear infinite; }
.btn.loading .spinner { display: inline-block; }
.btn.loading .btn-label { opacity: 0.6; }

.form { display: grid; gap: 12px; }
.form input { width: 100%; margin-top: 6px; background: rgba(255,255,255,0.04); color: var(--text); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 12px; outline: none; transition: box-shadow 180ms ease, transform 150ms ease, border-color 150ms; }
.form input:focus { border-color: var(--cyan); box-shadow: 0 0 0 4px rgba(0,217,255,0.2); transform: translateY(-1px); }
.form-hint { color: var(--text-2); font-size: 13px; }
.hidden { display: none !important; }

/* Auth */
.page-auth { position: fixed; inset: 0; display: grid; place-items: center; padding: 24px; z-index: 50; }
.auth-bg { position: absolute; inset: 0; overflow: hidden; }
.auth-card { position: relative; width: min(480px, 92vw); padding: 28px; border-radius: var(--radius-lg); animation: slideUp 400ms ease-out; }
.logo { text-align: center; margin-bottom: 16px; }
.logo-mark { width: 56px; height: 56px; margin: 0 auto 8px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, var(--cyan), var(--purple)); box-shadow: 0 0 20px var(--cyan), inset 0 0 24px rgba(176,0,255,0.4); animation: bounce 1.8s ease-in-out infinite; }
.logo-text { margin: 0; font-size: 28px; font-weight: 900; letter-spacing: 0.5px; }
.tagline { margin: 6px 0 12px; color: var(--text-2); }
.auth-toggle { display: grid; grid-auto-flow: column; gap: 8px; margin: 10px 0 16px; }
.auth-toggle .tab { padding: 10px 12px; border-radius: 12px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.06); color: var(--text-2); cursor: pointer; }
.auth-toggle .tab.active { color: var(--text); box-shadow: 0 0 12px rgba(0,217,255,0.25); border-color: var(--cyan); }

/* Dashboard */
.streak-hero { text-align: center; }
.streak-label { color: var(--text-2); text-transform: uppercase; letter-spacing: 1px; font-weight: 700; }
.streak-value { font-size: clamp(48px, 8vw, 88px); font-weight: 900; text-shadow: 0 0 24px rgba(0,217,255,0.35); }
.streak-sub { color: var(--text-2); margin-bottom: 12px; }
.stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
.stat-title { color: var(--text-2); font-size: 13px; text-transform: uppercase; letter-spacing: 0.6px; }
.stat-value { font-size: 28px; font-weight: 900; }
.stat-trend.success { color: var(--lime); }
.progress { width: 100%; background: rgba(255,255,255,0.06); border-radius: 999px; height: 8px; margin-top: 10px; overflow: hidden; }
.progress .bar { height: 100%; background: linear-gradient(90deg, var(--cyan), var(--purple)); width: 0; transition: width 800ms ease; }
.actions { display: flex; flex-wrap: wrap; gap: 12px; }
.grid.split { display: grid; grid-template-columns: 1.3fr 1fr; gap: 16px; }
.list { list-style: none; padding: 0; margin: 0; display: grid; gap: 10px; }
.list li { display: grid; grid-template-columns: 1fr auto auto; gap: 10px; padding: 12px; border-radius: 12px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); }
.leaderboard { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }
.leaderboard li { display: grid; grid-template-columns: 28px 1fr auto auto; gap: 10px; align-items: center; padding: 10px 12px; border-radius: 12px; background: rgba(255,255,255,0.03); }

/* Quiz */
.quiz-header { display: grid; grid-template-columns: 1fr auto auto; gap: 12px; align-items: center; margin-bottom: 10px; }
.quiz-header.sticky { position: sticky; top: 64px; backdrop-filter: blur(8px); background: rgba(20,24,41,0.75); padding: 12px; border-radius: 12px; z-index: 5; }
.quiz-body { display: grid; gap: 16px; }
.q-count { font-size: 18px; color: var(--text-2); }
.q-text { font-size: clamp(18px, 3vw, 24px); font-weight: 700; }
.answers { display: grid; gap: 12px; }
.answer { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.06); border-radius: 14px; padding: 14px; cursor: pointer; transition: transform 150ms ease, box-shadow 200ms ease, background 200ms ease; }
.answer:hover { transform: scale(1.02); box-shadow: 0 0 18px rgba(0,217,255,0.2); }
.answer.selected { border-color: var(--cyan); box-shadow: 0 0 18px rgba(0,217,255,0.35); background: rgba(0,217,255,0.06); }
.answer.correct { box-shadow: 0 0 18px rgba(57,255,20,0.35); border-color: var(--lime); }
.answer.wrong { box-shadow: 0 0 18px rgba(255,0,110,0.35); border-color: var(--magenta); }
.answer.disabled { opacity: 0.6; pointer-events: none; }

/* Results */
.results-hero { text-align: center; display: grid; gap: 12px; }
.score-circle { position: relative; width: 180px; height: 180px; margin: 10px auto; }
.score-text { position: absolute; inset: 0; display: grid; place-items: center; font-size: 24px; font-weight: 900; }
.results-list { display: grid; gap: 10px; }
.results-list .item { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 12px; }

/* Leaderboard */
.lb-header { display: grid; grid-template-columns: 1fr auto auto; gap: 12px; align-items: end; }
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { text-align: left; padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.06); }

/* Profile */
.profile-header { display: flex; gap: 16px; align-items: center; }
.avatar { width: 72px; height: 72px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, var(--cyan), var(--purple)); box-shadow: 0 0 18px rgba(0,217,255,0.35); }
.badges { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
.badge { height: 64px; border-radius: 12px; background: linear-gradient(135deg, rgba(0,217,255,0.15), rgba(176,0,255,0.12)); border: 1px solid rgba(255,255,255,0.06); box-shadow: var(--shadow); display: grid; place-items: center; font-weight: 700; }

/* Bottom nav */
.bottom-nav { display: none; position: fixed; bottom: 0; left: 0; right: 0; background: rgba(20,24,41,0.8); backdrop-filter: blur(8px); border-top: 1px solid rgba(255,255,255,0.06); padding: 10px; z-index: 20; grid-template-columns: repeat(4, 1fr); gap: 8px; }
.bottom-nav button { background: rgba(255,255,255,0.04); color: var(--text-2); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 10px 12px; }
.bottom-nav button.active { color: var(--text); border-color: var(--cyan); box-shadow: 0 0 12px rgba(0,217,255,0.25); }

/* Toasts */
#toasts { position: fixed; right: 16px; bottom: 16px; display: grid; gap: 8px; z-index: 100; }
.toast { background: rgba(20,24,41,0.95); color: var(--text); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 12px 14px; box-shadow: var(--shadow); animation: slideUp 280ms ease-out; }
.toast.success { border-color: rgba(57,255,20,0.4); box-shadow: 0 0 14px rgba(57,255,20,0.25); }
.toast.error { border-color: rgba(255,0,110,0.4); box-shadow: 0 0 14px rgba(255,0,110,0.25); }

/* Animations */
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
@keyframes spin { to { transform: rotate(360deg); } }

/* Responsive */
@media (max-width: 1023px) {
	#app { grid-template-columns: 1fr; grid-template-rows: 64px 1fr 64px; }
	.sidebar { display: none; }
	.bottom-nav { display: grid; }
	.content { padding-bottom: 84px; }
	.grid.split { grid-template-columns: 1fr; }
	.stats-grid { grid-template-columns: 1fr; }
}

